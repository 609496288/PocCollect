### 漏洞简述

什么是原型污染？顾名思义，原型污染就是指攻击者通过某种手段修改 JavaScript 对象的 prototype。

JavaScript 对象就跟变量一样，但它不是存储一个值（var car =“Fiat”），而是可以包含基于预定义结构的多个值 (var car ={type:"Fiat", model:"500", color:"white"})。

prototype 定义了 JavaScript 对象的默认结构和默认值，因此在没有为对象赋值时应用程序也不会崩溃。

但如果攻击者从 JavaScript 对象的 prototype 入手，攻击者可通过将其控制的 prototype 注入对象，然后通过触发 JavaScript 异常导致拒绝服务（denial of service），或者篡改应用程序源代码以注入攻击者的代码路径。最终的结果可能就是导致应用程序崩溃或劫持应用程序。

Snyk 团队详细描述了这个新的 jQuery “原型污染”漏洞，其中包含攻击原理和规避方法。“原型污染攻击(CVE-2019-11358)”的概念验证代码 点此查看（https://github.com/jquery/jquery/pull/4333）。

虽然漏洞比较严重，但好在“原型污染”攻击并不能被大规模利用，因为每段攻击代码必须针对每个目标进行微调。此外，大部分网站并不使用 jQuery 进行重要的操作，主要是用于操作动画中的菜单或创建弹窗等。

最后，如果担心安全问题，建议升级至最新版本 jQuery 3.4.0，毕竟目前大多数网站仍在使用 jQuery 的 1.x 和 2.x 分支，这意味着绝大多数基于 jQuery 的应用程序和网站仍有可能遭受攻击。